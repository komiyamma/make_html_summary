<div class="content-box mb-3 content-lighten">
    <h2><i class="fa fa-book fa-fw"></i>HmMarkdownSimpleServer の主な特徴</h2>
</div>

<div class="content-box mb-3 content-lighten">
    <h3>実行方法</h3>
    <ul class="pointlist">
        <h4>プレビューしたいMarkdownファイル(通常は.md)を秀丸で開いて、</h4>
        <h4>HmMarkdownSimpleServer.macを実行</h4>
    </ul>
</div>

<div class="content-box mb-3 content-lighten">
    <h3>秀丸上でファイル名が付いている時だけ機能する</h3>
    <p>現在のところ「なんらかのファイル名が付いていること」を必須としています。<br>
        すなわち、秀丸上で「無題」だと機能しません。<br>
        これは、
    </p><ul>
        <li>(無題)になったら「HmMarkdownSimpleServer の機能を停止する」というシグナルとしているため
        </li><li>ドキュメントのルート相当が無いと、「相対リンク」がどこを起点に記述しているつもりなのか不明であり、
            機能しないため
    </li></ul>
    <p></p>
</div>

<div class="content-box mb-3 content-lighten">
    <h3>Github Flavored Markdown 方言にある程度対応</h3>
    <p>Github自体に依存するものを除き、Github独自のマークダウンの主だったものには対応しています。<br>
    (Markdigが対応している範囲)</p>
</div>

<div class="content-box mb-3 content-lighten">
    <h3>テキストが50000文字以下なら リアルタイムプレビューモード</h3>
    <p>テキストが50000文字以下なら、リアルタイムプレビューモードになります。<br>
        このモードでは、秀丸上のテキストを編集すると、右のブラウザ枠のテキストも自動的に更新されます。<br>
        この程度の文字数であれば、現代的なPC(2018年以降に買った標準的な価格のPC)であれば、<br>
        問題なくリアルタイムプレビューが出来るでしょう。</p>
</div>

<div class="content-box mb-3 content-lighten">
    <h3>テキストが50000文字を超えると ライブプレビューモードに切り替わる</h3>
    <p>テキストが50000文字を超えると、自動的にライブプレビューモードに切り替わります。<br>
        このモードでは、「ファイルを保存」した時だけ、右のブラウザ枠のテキストが更新されます。<br>
        これはリアルタイムプレビューモードでは重くなりすぎ、ブラウザ枠や秀丸本体が不安定になることを回避するためです。<br>
    </p>
    <fieldset class="alert alert-info">
        <legend>ここでいう「50000文字」とは秀丸エディタのステータスバーに表示されているカウント数とは異なる</legend>
        <p>秀丸エディタのステータスバーに出ている「文字数」というのは実際の文字数ではなく、<br>
            「全角が２文字」「半角が１文字」といった、20年近く前の非常に古い考え方に基づいたカウントがデフォルトになっています。<br>
            (ShiftJISのバイト数のような、あるいは等幅フォントの文字幅の総数のような、カウント)<br>
            このような考え方を基準に「文字数」として数え上げることは現代ではほぼ考えられません。<br>
            (周辺ツールやWebの文字数制限などとの整合性においても、このような数え方と辻褄が合うものは、まずもって存在しません)<br>
            よほど特殊な事情が無い限りは、以下のような設定へと変更されることをオススメします。</p>
        <p><img src="./other_soft/hm_markdown_simple_server/cnt_hm_markdown_simple_server_07.png"></p>
        <p>(改行については「２文字」とカウントするべきか、「１文字」としてカウントするべきかは状況によります)</p>
    </fieldset>
</div>
<div class="content-box mb-3 content-lighten">
    <h3>編集ペインのカーソルの位置に合わせて、ブラウザ枠が追従してスクロール</h3>
    <p>編集ペインのカーソル位置に合わせて、ブラウザ枠がスクロールします。<br>
    </p>
    <p>しかし、この機能については逆にうっとうしいと思う人も居るかもしれないので、<br>
        <mark>HmMarkdownSimpleServer.mac の先頭付近</mark>を以下のように
    </p>
    <blockquote>#CURSOR_FOLLOW_MODE = 0</blockquote>
    <p>とすることで、追従する機能を「OFF」にすることが出来ます。</p>
    <div class="code">
        <pre class="brush:hmmacro;highlight:[5]">SET_REALTIME_MODE_TEXT_LENGTH_MAX:

    #REALTIME_MODE_TEXT_LENGTH_MAX = 50000; // 50000文字まではリアルタイムでブラウザ枠追従モードを維持する。それを超えるとファイル保存時のみの更新。

    #CURSOR_FOLLOW_MODE = 0; // カーソルの位置に合わせてブラウザ枠も追従する
</pre>
    </div>

    <h4>OFFにした場合でも、編集ペインのカーソルが上部３行と下部３行に限り、ブラウザが追従する</h4>
    <ul>
        <li>カーソルの位置が「上端３行」の時は、ブラウザ枠がトップへとスクロール。</li>
        <li>カーソルの位置が「下端３行」の時は、ブラウザ枠もボトムへとスクロール。<br>
        (※下端については空の改行だけの行はカウントしない)</li>
    </ul>
    <p>します。</p>
    <p>上下の端に関しては、ほとんどの全ての人が編集時に追従することを求める機能であるためです。</p>
</div>
<div class="content-box mb-3 content-lighten">
    <h3>テキストが20万文字を超えると、追従がしんどくなってくる</h3>
    <p>「マシンスペック」や「内容が縦長に描画されやすい内容かなのか？」 などにも左右されますが、<br>
        テキストが20万文字を超えると、編集ペインの位置に合わせたブラウザ枠の追従が怪しくなってきます。<br></p>
    <p>一般的にはマークダウンの１つのファイルで、20万文字編集することは稀ですので、<br>
    今のところは仕様とします。</p>
</div>

<div class="content-box mb-3 content-lighten">
    <h3>ライトテーマとダークテーマ</h3>
    <p>秀丸エディタがライトテーマなら、HmMarkdownSimpleServerもライトテーマのCSSで、<br>
        秀丸エディタがダークテーマなら、HmMarkdownSimpleServerもダークテーマのCSSでレンダリングします。</p>
    <p><img src="./other_soft/hm_markdown_simple_server/cnt_hm_markdown_simple_server_02.png"></p>
</div>

<div class="content-box mb-3 content-lighten">
    <h3>Mermaidに対応</h3>
    <p>コードブロック内にmermaidを書くと、Mermaidの図描画します。
    <p><img src="./other_soft/hm_markdown_simple_render/cnt_hm_markdown_simple_render_02.png"></p>
</div>

<div class="content-box mb-3 content-lighten">
    <h3>ファイル名を変更させても自動で追従する</h3>
    <p>秀丸エディタ上で、ファイル名を変更させた場合、<br>
        右のプレビューもファイル名を変更させつつ追従します。</p>
</div>

<div class="content-box mb-3 content-lighten">
    <h3>テキストが200万文字を超えると、編集自体がしんどくなってくる</h3>
    <p>「マシンスペック」や「内容が縦長に描画されやすい内容かなのか？」 などに大きく左右されますが、<br>
        ブラウザペインでプレビューするテキストとして分量が多すぎます。<br>
    原則的には50万文字以下のテキストを扱うためのプレビューコンポーネントだと認識してください。</p>
</div>

<div class="content-box mb-3 content-lighten">
    <h3>秀丸エディタ上でタブを閉じるか、もしくはファイル名が無題になると終了</h3>
    <p>要するに「ファイルを閉じる」と<mark>該当プロセスのみ</mark>HmMarkdownSimpleServerの機能が終了します。<br>
        (それぞれのプロセス[=タブ]にて個々に管理されています。)</p>
</div>